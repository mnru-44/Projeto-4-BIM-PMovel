{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { TextInput, HelperText, Snackbar } from 'react-native-paper';\nimport { logar } from \"../../servicos/requisicoesFirebase\";\nimport { styles } from \"./styles\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport function Login(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    senha = _useState4[0],\n    setSenha = _useState4[1];\n  var _useState5 = useState(true),\n    _useState6 = _slicedToArray(_useState5, 2),\n    secureMode = _useState6[0],\n    setSecureMode = _useState6[1];\n  var _useState7 = useState(''),\n    _useState8 = _slicedToArray(_useState7, 2),\n    statusError = _useState8[0],\n    setStatusError = _useState8[1];\n  var _useState9 = useState(''),\n    _useState10 = _slicedToArray(_useState9, 2),\n    mensagemError = _useState10[0],\n    setMensagemError = _useState10[1];\n  var _useState11 = useState(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    statusSnakbar = _useState12[0],\n    setStatusSnakbar = _useState12[1];\n  var _useState13 = useState(false),\n    _useState14 = _slicedToArray(_useState13, 2),\n    mensagemSnakbar = _useState14[0],\n    setMensagemSnakbar = _useState14[1];\n  function fazerLogin() {\n    return _fazerLogin.apply(this, arguments);\n  }\n  function _fazerLogin() {\n    _fazerLogin = _asyncToGenerator(function* () {\n      if (email == '') {\n        setMensagemError('E-mail não pode ficar vazio!');\n        setStatusError('email');\n      } else if (senha == '') {\n        setMensagemError('Senha não pode ser em branco');\n        setStatusError('senha');\n      } else {\n        setMensagemError('');\n        setStatusError('');\n        var resultado = yield logar(email, senha);\n        if (resultado == 'sucesso') {\n          navigation.replace('ListarPais', {\n            email: email\n          });\n        } else setStatusSnakbar(true);\n        setMensagemSnakbar(\"E-mail ou senha inválida\");\n        console.log(resultado);\n      }\n    });\n    return _fazerLogin.apply(this, arguments);\n  }\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Image, {\n      style: styles.imagem,\n      source: require(\"../../../assets/LOGO.png\")\n    }), _jsx(Text, {\n      style: {\n        fontSize: 60,\n        fontWeight: 'bold',\n        color: '#141414'\n      },\n      children: \"Login\"\n    }), _jsx(TextInput, {\n      label: \"E-mail\",\n      value: email,\n      onChangeText: setEmail,\n      mode: \"outlined\",\n      keyboardType: \"email-address\",\n      error: statusError == 'email',\n      style: styles.input,\n      outlineColor: \"#404040\",\n      activeOutlineColor: \"#F4C095\",\n      textColor: \"#F4C095\"\n    }), statusError == 'email' ? _jsx(HelperText, {\n      type: \"error\",\n      visible: statusError == 'email',\n      children: mensagemError\n    }) : null, _jsx(TextInput, {\n      label: \"Senha\",\n      value: senha,\n      onChangeText: setSenha,\n      mode: \"outlined\",\n      error: statusError == 'senha',\n      secureTextEntry: secureMode,\n      right: _jsx(TextInput.Icon, {\n        icon: secureMode ? 'eye-off' : 'eye',\n        onPress: function onPress() {\n          return setSecureMode(!secureMode);\n        }\n      }),\n      activeOutlineColor: \"rgba(20, 20, 20, 0.5)\",\n      textColor: \"#141414\",\n      style: styles.input\n    }), statusError == 'senha' ? _jsx(HelperText, {\n      type: \"error\",\n      visible: statusError == 'senha',\n      children: mensagemError\n    }) : null, _jsx(TouchableOpacity, {\n      style: styles.botao,\n      onPress: function onPress() {\n        return fazerLogin();\n      },\n      children: _jsx(Text, {\n        style: styles.textoButton,\n        children: \"Entrar\"\n      })\n    }), _jsxs(Text, {\n      style: styles.texto,\n      children: [\" Ainda n\\xE3o tem uma conta?\", _jsx(Text, {\n        style: styles.textoLink,\n        onPress: function onPress() {\n          return navigation.navigate('Cadastrar');\n        },\n        children: \" Cadastre-se\"\n      })]\n    }), _jsx(Snackbar, {\n      visible: statusSnakbar,\n      onDismiss: function onDismiss() {\n        return setStatusSnakbar(false);\n      },\n      duration: 2000,\n      action: {\n        label: 'OK',\n        onPress: function onPress() {\n          setStatusSnakbar(false);\n        }\n      },\n      children: mensagemSnakbar\n    })]\n  });\n}","map":{"version":3,"names":["useState","View","Text","Image","TouchableOpacity","TextInput","HelperText","Snackbar","logar","styles","jsx","_jsx","jsxs","_jsxs","Login","_ref","navigation","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","senha","setSenha","_useState5","_useState6","secureMode","setSecureMode","_useState7","_useState8","statusError","setStatusError","_useState9","_useState10","mensagemError","setMensagemError","_useState11","_useState12","statusSnakbar","setStatusSnakbar","_useState13","_useState14","mensagemSnakbar","setMensagemSnakbar","fazerLogin","_fazerLogin","apply","arguments","_asyncToGenerator","resultado","replace","console","log","style","container","children","imagem","source","require","fontSize","fontWeight","color","label","value","onChangeText","mode","keyboardType","error","input","outlineColor","activeOutlineColor","textColor","type","visible","secureTextEntry","right","Icon","icon","onPress","botao","textoButton","texto","textoLink","navigate","onDismiss","duration","action"],"sources":["C:/Users/manel/Documents/Projeto-3-BIM-PMovel-main/src/Componentes/Login/index.js"],"sourcesContent":["import { useState } from \"react\";\nimport { View, Text, Image, TouchableOpacity } from \"react-native\";\nimport { TextInput, HelperText, Snackbar } from 'react-native-paper';\nimport { logar } from \"../../servicos/requisicoesFirebase\";\nimport { styles } from \"./styles\";\n\nexport function Login({ navigation }) {\n    const [email, setEmail] = useState('')\n    const [senha, setSenha] = useState('')\n    const [secureMode, setSecureMode] = useState(true);\n    const [statusError, setStatusError] = useState('')\n    const [mensagemError, setMensagemError] = useState('')\n    const [statusSnakbar, setStatusSnakbar] = useState(false)\n    const [mensagemSnakbar, setMensagemSnakbar] = useState(false)\n\n    async function fazerLogin() {\n        if (email == '') {\n            setMensagemError('E-mail não pode ficar vazio!')\n            setStatusError('email')\n        } else if (senha == '') {\n            setMensagemError('Senha não pode ser em branco')\n            setStatusError('senha')\n        } else {\n            setMensagemError('')\n            setStatusError('')\n            const resultado = await logar(email, senha)\n            if (resultado == 'sucesso') {\n                navigation.replace('ListarPais', { email: email }) //replace apaga as telas anteriores da pilha. Caso o usuário clique no voltar do celular não volta para a tela de login\n            } else\n                setStatusSnakbar(true)\n            setMensagemSnakbar(\"E-mail ou senha inválida\")\n            console.log(resultado)\n        }\n    }\n    return (\n        <View style={styles.container}>\n            <Image style={styles.imagem}\n                source={require(\"../../../assets/LOGO.png\")}\n            />\n            <Text style={{fontSize: 60, fontWeight: 'bold', color: '#141414'}}>\n                Login\n            </Text>\n            <TextInput\n                label=\"E-mail\"\n                value={email}\n                onChangeText={setEmail}\n                mode=\"outlined\"\n                keyboardType=\"email-address\"\n                error={statusError == 'email'}\n                style={styles.input}\n                outlineColor=\"#404040\"\n                activeOutlineColor=\"#F4C095\" \n                textColor=\"#F4C095\"\n            />\n            {statusError == 'email' ? <HelperText type=\"error\" visible={statusError == 'email'}>\n                {mensagemError}\n            </HelperText> : null}\n            <TextInput\n                label=\"Senha\"\n                value={senha}\n                onChangeText={setSenha}\n                mode=\"outlined\"\n                error={statusError == 'senha'}\n                secureTextEntry={secureMode}\n                right={\n                    <TextInput.Icon\n                        icon={secureMode ? 'eye-off' : 'eye'}\n                        onPress={() => setSecureMode(!secureMode)}\n                    />\n                }\n                activeOutlineColor=\"rgba(20, 20, 20, 0.5)\" \n                textColor=\"#141414\"\n                style={styles.input} />\n            {statusError == 'senha' ? <HelperText type=\"error\" visible={statusError == 'senha'}>\n                {mensagemError}\n            </HelperText> : null}\n            <TouchableOpacity style={styles.botao} onPress={() => fazerLogin()}>\n                <Text style={styles.textoButton}>Entrar</Text>\n            </TouchableOpacity>\n            <Text style={styles.texto}> Ainda não tem uma conta?\n                <Text style={styles.textoLink}\n                    onPress={() => navigation.navigate('Cadastrar')}> Cadastre-se</Text>\n            </Text>\n            <Snackbar visible={statusSnakbar} onDismiss={() => setStatusSnakbar(false)} duration={2000}\n                action={{\n                    label: 'OK',\n                    onPress: () => {\n                        setStatusSnakbar(false)\n                    },\n                }}>\n                {mensagemSnakbar} \n            </Snackbar>\n        </View>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}